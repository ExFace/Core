{"version":3,"file":"pivot_spec.js","sources":["pivot_spec.coffee"],"names":[],"mappings":"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","sourcesContent":["fixtureData = [\r\n    [\"name\",    \"gender\",   \"colour\",       \"birthday\",     \"trials\",   \"successes\"],\r\n    [\"Nick\",    \"male\",     \"blue\",         \"1982-11-07\",   103,        12],\r\n    [\"Jane\",    \"female\",   \"red\",          \"1982-11-08\",   95,         25],\r\n    [\"John\",    \"male\",     \"blue\",         \"1982-12-08\",   112,        30],\r\n    [\"Carol\",   \"female\",   \"yellow\",       \"1983-11-11\",   102,        14],\r\n    [\"Raj\",     \"male\",     \"blue\",         \"1982-11-07\",   103,        12],\r\n    [\"Rani\",    \"female\",   \"red\",          \"1982-11-08\",   95,         25],\r\n    [\"Joshi\",   \"male\",     \"blue\",         \"1982-12-09\",   112,        12],\r\n    [\"Vel\",     \"male\",     \"yellow\",       \"1982-12-01\",   112,        25],\r\n    [\"Sai\",     \"male\",     \"red\",          \"1982-11-08\",   112,        30],\r\n    [\"Geeth\",   \"female\",   \"blue\",         \"1982-12-03\",   112,        14],\r\n    [\"Malar\",   \"male\",     \"red\",          \"1982-11-05\",   112,        12],\r\n    [\"Nila\",    \"male\",     \"blue\",         \"1982-12-07\",   112,        25],\r\n    [\"Yaazhi\",  \"male\",     \"yellow\",       \"1982-12-06\",   112,        30],\r\n    [\"Mukhi\",   \"male\",     \"yellow\",       \"1982-11-07\",   112,        14]]\r\n\r\nfixtureData2 = [\r\n    [\"name\",    \"gender\",   \"colour\",    \"birthday\",     \"trials\",   \"successes\"],\r\n    [\"Nick\",    \"male\",     \"blue\",      \"1982-11-07\",   103,        12],\r\n    [\"Jane\",    \"female\",   \"red\",       \"1982-11-08\",   95,         25],\r\n    [\"John\",    \"male\",     \"blue\",      \"1982-12-08\",   112,        30],\r\n    [\"Carol\",   \"female\",   \"yellow\",    \"1983-12-08\",   102,        14]]\r\n\r\n\r\ndescribe \"$.pivotUI()\", ->\r\n    describe \"with no rows/cols, default count aggregator, subtotal renderer\",  ->\r\n        table = null\r\n\r\n        beforeEach (done) ->\r\n            table = $(\"<div>\").pivotUI fixtureData, {\r\n                dataClass: $.pivotUtilities.SubtotalPivotData,\r\n                renderers: $.pivotUtilities.subtotal_renderers,\r\n                onRefresh: done\r\n            }\r\n\r\n\r\n        it \"has all the basic UI elements\", (done) ->\r\n            expect table.find(\"td.pvtAxisContainer\").length\r\n            .toBe   3\r\n            expect table.find(\"td.pvtRendererArea\").length\r\n            .toBe   1\r\n            expect table.find(\"td.pvtVals\").length\r\n            .toBe   1\r\n            expect table.find(\"select.pvtRenderer\").length\r\n            .toBe   1\r\n            expect table.find(\"select.pvtAggregator\").length\r\n            .toBe   1\r\n            expect table.find(\"span.pvtAttr\").length\r\n            .toBe   6\r\n            expect table.find(\"th.pvtTotalLabel\").length\r\n            .toBe   1 \r\n            expect table.find(\"td.pvtGrandTotal\").length\r\n            .toBe   1 \r\n            done()\r\n\r\n        it \"reflects its inputs\", (done) ->\r\n            expect table.find(\"td.pvtUnused span.pvtAttr\").length\r\n            .toBe  6\r\n            expect table.find(\"select.pvtRenderer\").val()\r\n            .toBe  \"Table With Subtotal\"\r\n            expect table.find(\"select.pvtAggregator\").val()\r\n            .toBe  \"Count\"\r\n            done()\r\n\r\n        it \"renders a table\", (done) ->\r\n            expect table.find(\"table.pvtTable\").length\r\n            .toBe  1 \r\n            done()\r\n\r\n        describe \"its renderer output\", ->\r\n            it \"has the correct type and number of cells\", (done) ->\r\n                expect table.find(\"th.pvtTotalLabel\").length\r\n                .toBe  1 \r\n                expect table.find(\"td.pvtGrandTotal\").length\r\n                .toBe  1 \r\n                done()\r\n\r\n            it \"has the correct textual representation\", (done) ->\r\n                expect table.find(\"table.pvtTable\").text()\r\n                .toBe [\"Totals\", \"14\"].join(\"\")\r\n                done()\r\n\r\n            it \"has a correct grand total with data value\", (done) ->\r\n                expect table.find(\"td.pvtGrandTotal\").text()\r\n                .toBe  \"14\"\r\n                expect table.find(\"td.pvtGrandTotal\").data(\"value\")\r\n                .toBe  14\r\n                done()\r\n\r\n    describe \"with collapsed rows and cols, subtotal_aggregators\",  ->\r\n        table = null\r\n\r\n        beforeEach (done) ->\r\n            table = $(\"<div>\").pivotUI fixtureData, \r\n                dataClass: $.pivotUtilities.SubtotalPivotData,\r\n                rows: [\"gender\", \"colour\"],\r\n                cols: [\"birthday\", \"trials\"],\r\n                aggregators: $.pivotUtilities.subtotal_aggregators,\r\n                vals: [\"successes\"],\r\n                renderers: $.pivotUtilities.subtotal_renderers,\r\n                rendererOptions: {\r\n                    collapseColsAt: 0,\r\n                    collapseRowsAt: 0\r\n                },\r\n                onRefresh: done\r\n\r\n        it \"has all the basic UI elements\", (done) ->\r\n            expect table.find(\"td.pvtAxisContainer\").length\r\n            .toBe  3\r\n            expect table.find(\"td.pvtRendererArea\").length\r\n            .toBe  1\r\n            expect table.find(\"td.pvtVals\").length\r\n            .toBe  1\r\n            expect table.find(\"select.pvtRenderer\").length\r\n            .toBe  1\r\n            expect table.find(\"select.pvtAggregator\").length\r\n            .toBe  1\r\n            expect table.find(\"span.pvtAttr\").length\r\n            .toBe  6\r\n            done()\r\n\r\n        it \"reflects its inputs\", (done) ->\r\n            expect table.find(\"td.pvtUnused span.pvtAttr\").length\r\n            .toBe  2 \r\n            expect table.find(\"td.pvtRows span.pvtAttr\").length\r\n            .toBe  2 \r\n            expect table.find(\"td.pvtCols span.pvtAttr\").length\r\n            .toBe  2 \r\n            expect table.find(\"select.pvtRenderer\").val()\r\n            .toBe  \"Table With Subtotal\"\r\n            expect table.find(\"select.pvtAggregator\").val()\r\n            .toBe  \"Sum As Fraction Of Parent Row\"\r\n            done()\r\n\r\n        it \"renders a table\", (done) ->\r\n            expect table.find(\"table.pvtTable\").length\r\n            .toBe  1 \r\n            done()\r\n\r\n        describe \"its renderer output\", ->\r\n            it \"has the correct type and number of cells\", (done) ->\r\n                expect table.find(\"th.pvtAxisLabel\").length\r\n                .toBe  4 \r\n                expect table.find(\"th.pvtAxisLabel.collapsed\").length\r\n                .toBe  4 \r\n                expect table.find(\"th.pvtRowLabel.rowcollapsed\").length\r\n                .toBe  2\r\n                expect table.find(\"th.pvtColLabel.colcollapsed\").length\r\n                .toBe  10 \r\n                expect table.find(\"th.pvtTotalLabel.rowTotal\").length\r\n                .toBe  1 \r\n                expect table.find(\"th.pvtTotalLabel.colTotal\").length\r\n                .toBe  1 \r\n                expect table.find(\"td.pvtVal.pvtColSubtotal.pvtRowSubtotal\").length\r\n                .toBe  20 \r\n                expect table.find(\"td.pvtTotal.rowTotal.pvtRowSubtotal\").length\r\n                .toBe  2 \r\n                expect table.find(\"td.pvtTotal.colTotal.pvtColSubtotal\").length\r\n                .toBe  10 \r\n                expect table.find(\"td.pvtGrandTotal\").length\r\n                .toBe  1 \r\n                done()\r\n\r\n            it \"has the correct textual representation\", (done) ->\r\n                expect table.find(\"th.pvtColLabel\").text()\r\n                .toBe \" \\u25B6 1982-11-05 \\u25B6 1982-11-07 \\u25B6 1982-11-08 \\u25B6 1982-12-01 \\u25B6 1982-12-03 \\u25B6 1982-12-06 \\u25B6 1982-12-07 \\u25B6 1982-12-08 \\u25B6 1982-12-09 \\u25B6 1983-11-1111210311295112112112112112112112102\"\r\n                expect table.find(\"th.pvtRowLabel\").text()\r\n                .toBe \" \\u25B6 femaleblueredyellow \\u25B6 maleblueredyellow\"\r\n                done()\r\n\r\n            it \"has a correct spot-checked cell with data value\", (done) ->\r\n                expect table.find(\"td.pvtVal.pvtRowSubtotal.row0.col3.rowcol0.colcol1\").text()\r\n                .toBe  \"17.9%\"\r\n                expect table.find(\"td.pvtVal.pvtTotal.colTotal.pvtColSubtotal.col3.colcol0\").data(\"value\")\r\n                .toBe  (50+30)/280\r\n                done()\r\n\r\n    describe \"with row and col subtotal hidden on expand\",  ->\r\n        table = null\r\n\r\n        beforeEach (done) ->\r\n            table = $(\"<div>\").pivotUI fixtureData, \r\n                dataClass: $.pivotUtilities.SubtotalPivotData,\r\n                rows: [\"colour\", \"birthday\", \"name\"],\r\n                cols: [\"trials\", \"gender\", \"successes\"],\r\n                aggregators: $.pivotUtilities.subtotal_aggregators,\r\n                vals: [\"successes\"],\r\n                renderers: $.pivotUtilities.subtotal_renderers,\r\n                rendererOptions: {\r\n                    rowSubtotalDisplay: {\r\n                        hideOnExpand: true\r\n                    },\r\n                    colSubtotalDisplay: {\r\n                        hideOnExpand: true\r\n                    }\r\n                },\r\n                onRefresh: done\r\n\r\n        it \"has all the basic UI elements\", (done) ->\r\n            expect table.find(\"td.pvtAxisContainer\").length\r\n            .toBe  3\r\n            expect table.find(\"td.pvtRendererArea\").length\r\n            .toBe  1\r\n            expect table.find(\"td.pvtVals\").length\r\n            .toBe  1\r\n            expect table.find(\"select.pvtRenderer\").length\r\n            .toBe  1\r\n            expect table.find(\"select.pvtAggregator\").length\r\n            .toBe  1\r\n            expect table.find(\"span.pvtAttr\").length\r\n            .toBe  6\r\n            done()\r\n\r\n        it \"reflects its inputs\", (done) ->\r\n            expect table.find(\"td.pvtUnused span.pvtAttr\").length\r\n            .toBe  0 \r\n            expect table.find(\"td.pvtRows span.pvtAttr\").length\r\n            .toBe  3 \r\n            expect table.find(\"td.pvtCols span.pvtAttr\").length\r\n            .toBe  3 \r\n            expect table.find(\"select.pvtRenderer\").val()\r\n            .toBe  \"Table With Subtotal\"\r\n            expect table.find(\"select.pvtAggregator\").val()\r\n            .toBe  \"Sum As Fraction Of Parent Row\"\r\n            done()\r\n\r\n        it \"renders a table\", (done) ->\r\n            expect table.find(\"table.pvtTable\").length\r\n            .toBe  1 \r\n            done()\r\n\r\n        describe \"its renderer output\", ->\r\n            it \"has the correct type and number of cells\", (done) ->\r\n                expect table.find(\"th.pvtAxisLabel\").length\r\n                .toBe  6\r\n                expect table.find(\"th.pvtAxisLabel.collapsed\").length\r\n                .toBe  0\r\n                expect table.find(\"th.pvtRowLabel.rowshow.rowcollapsed\").length\r\n                .toBe  0\r\n                expect table.find(\"th.pvtColLabel.colshow.colcollapsed\").length\r\n                .toBe  0\r\n                expect table.find(\"th.pvtRowLabel.rowshow.rowexpanded\").length\r\n                .toBe  28\r\n                expect table.find(\"th.pvtColLabel.colshow.colexpanded\").length\r\n                .toBe  17\r\n                expect table.find(\"th.pvtRowLabelFiller.rowhide.rowexpanded\").length\r\n                .toBe  14\r\n                expect table.find(\"th.pvtColLabelFiller.colhide.colexpanded\").length\r\n                .toBe  9 \r\n                expect table.find(\"td.pvtColSubtotal.pvtRowSubtotal.colhide.colexpanded.rowhide.rowexpanded\").length\r\n                .toBe  9*14 \r\n                expect table.find(\"th.pvtTotalLabel.rowTotal\").length\r\n                .toBe  1 \r\n                expect table.find(\"th.pvtTotalLabel.colTotal\").length\r\n                .toBe  1 \r\n                expect table.find(\"td.pvtTotal.rowTotal.pvtRowSubtotal\").length\r\n                .toBe  14 \r\n                expect table.find(\"td.pvtTotal.colTotal.pvtColSubtotal\").length\r\n                .toBe  9\r\n                expect table.find(\"td.pvtGrandTotal\").length\r\n                .toBe  1 \r\n                done()\r\n\r\n            it \"has the correct textual representation\", (done) ->\r\n                expect table.find(\"th.pvtColLabel\").text()\r\n                .toBe \" \\u25E2 95 \\u25E2 102 \\u25E2 103 \\u25E2 112 \\u25E2 female \\u25E2 female \\u25E2 male \\u25E2 female \\u25E2 male2514121412142530\"\r\n                expect table.find(\"th.pvtRowLabel\").text()\r\n                .toBe \" \\u25E2 blue \\u25E2 1982-11-07NickRaj \\u25E2 1982-12-03Geeth \\u25E2 1982-12-07Nila \\u25E2 1982-12-08John \\u25E2 1982-12-09Joshi \\u25E2 red \\u25E2 1982-11-05Malar \\u25E2 1982-11-08JaneRaniSai \\u25E2 yellow \\u25E2 1982-11-07Mukhi \\u25E2 1982-12-01Vel \\u25E2 1982-12-06Yaazhi \\u25E2 1983-11-11Carol\"\r\n                done()\r\n\r\n            it \"has a correct spot-checked cell with data value\", (done) ->\r\n                expect table.find(\"td.pvtVal.rowshow.colshow.row10.col5.rowcol2.colcol2\").text()\r\n                .toBe  \"100.0%\"\r\n                expect table.find(\"td.pvtVal[data-rownode=\\\"1\\\"][data-colnode=\\\"6\\\"]\").text()\r\n                .toBe  \"50.0%\"\r\n                done()\r\n\r\n    describe \"with row subtotal displayed at bottom\",  ->\r\n        table = null\r\n\r\n        beforeEach (done) ->\r\n            table = $(\"<div>\").pivotUI fixtureData, \r\n                dataClass: $.pivotUtilities.SubtotalPivotData,\r\n                rows: [\"colour\", \"birthday\"],\r\n                cols: [\"gender\", \"successes\"]\r\n                vals: [\"successes\"],\r\n                renderers: $.pivotUtilities.subtotal_renderers,\r\n                rendererOptions: {\r\n                    rowSubtotalDisplay: {\r\n                        displayOnTop: false\r\n                    }\r\n                },\r\n                onRefresh: done\r\n\r\n        it \"has all the basic UI elements\", (done) ->\r\n            expect table.find(\"td.pvtAxisContainer\").length\r\n            .toBe  3\r\n            expect table.find(\"td.pvtRendererArea\").length\r\n            .toBe  1\r\n            expect table.find(\"td.pvtVals\").length\r\n            .toBe  1\r\n            expect table.find(\"select.pvtRenderer\").length\r\n            .toBe  1\r\n            expect table.find(\"select.pvtAggregator\").length\r\n            .toBe  1\r\n            expect table.find(\"span.pvtAttr\").length\r\n            .toBe  6\r\n            done()\r\n\r\n        it \"reflects its inputs\", (done) ->\r\n            expect table.find(\"td.pvtUnused span.pvtAttr\").length\r\n            .toBe  2 \r\n            expect table.find(\"td.pvtRows span.pvtAttr\").length\r\n            .toBe  2 \r\n            expect table.find(\"td.pvtCols span.pvtAttr\").length\r\n            .toBe  2 \r\n            expect table.find(\"select.pvtRenderer\").val()\r\n            .toBe  \"Table With Subtotal\"\r\n            done()\r\n\r\n        it \"renders a table\", (done) ->\r\n            expect table.find(\"table.pvtTable\").length\r\n            .toBe  1 \r\n            done()\r\n\r\n        describe \"its renderer output\", ->\r\n            it \"has the correct type and number of cells\", (done) ->\r\n                expect table.find(\".pvtTable tbody tr:first-child th\").length\r\n                .toBe  1\r\n                expect table.find(\".pvtTable tbody tr:first-child th\").attr(\"rowspan\")\r\n                .toBe  \"7\"\r\n                expect table.find(\"tr:nth-child(7) th.pvtRowLabelFiller\").length\r\n                .toBe  1\r\n                expect table.find(\"th.pvtTotalLabel.rowTotal\").length\r\n                .toBe  1 \r\n                expect table.find(\"th.pvtTotalLabel.colTotal\").length\r\n                .toBe  1 \r\n                expect table.find(\"td.pvtTotal.rowTotal.pvtRowSubtotal\").length\r\n                .toBe  3 \r\n                expect table.find(\"td.pvtTotal.colTotal.pvtColSubtotal\").length\r\n                .toBe  2\r\n                expect table.find(\"td.pvtGrandTotal\").length\r\n                .toBe  1 \r\n                done()\r\n\r\n            it \"has the correct textual representation\", (done) ->\r\n                expect table.find(\"th.pvtColLabel\").text()\r\n                .toBe \" \\u25E2 female \\u25E2 male142512142530\"\r\n                expect table.find(\"th.pvtRowLabel\").text()\r\n                .toBe \" \\u25E2 blue1982-11-071982-12-031982-12-071982-12-081982-12-09 \\u25E2 red1982-11-051982-11-08 \\u25E2 yellow1982-11-071982-12-011982-12-061983-11-11\"\r\n                done()\r\n\r\n            it \"has a correct spot-checked cell with data value\", (done) ->\r\n                expect table.find(\"tr:nth-child(7) td.pvtTotal\").text()\r\n                .toBe  \"6\"\r\n                expect table.find(\"td.pvtVal.row5.rowcol0.pvtRowSubtotal.col0.colcol0.pvtColSubtotal\").text()\r\n                .toBe  \"2\"\r\n                expect table.find(\"td.pvtVal[data-rownode=\\\"13\\\"][data-colnode=\\\"7\\\"]\").text()\r\n                .toBe  \"3\"\r\n                done()\r\n\r\ndescribe \"$.pivot()\", ->\r\n    describe \"with no rows/cols, default count aggregator, subtotal renderer\",  ->\r\n        table = $(\"<div>\").pivot fixtureData, {\r\n            dataClass: $.pivotUtilities.SubtotalPivotData,\r\n            renderer: $.pivotUtilities.subtotal_renderers[\"Table With Subtotal\"]\r\n        }\r\n\r\n        it \"has all the basic UI elements\", ->\r\n            expect table.find(\"th.pvtTotalLabel\").length\r\n            .toBe   1 \r\n            expect table.find(\"td.pvtGrandTotal\").length\r\n            .toBe   1 \r\n\r\n        it \"renders a table\", ->\r\n            expect table.find(\"table.pvtTable\").length\r\n            .toBe  1 \r\n\r\n        describe \"its renderer output\", ->\r\n            it \"has the correct type and number of cells\", ->\r\n                expect table.find(\"th.pvtTotalLabel\").length\r\n                .toBe  1 \r\n                expect table.find(\"td.pvtGrandTotal\").length\r\n                .toBe  1 \r\n\r\n            it \"has the correct textual representation\", ->\r\n                expect table.find(\"table.pvtTable\").text()\r\n                .toBe [\"Totals\", \"14\"].join(\"\")\r\n\r\n            it \"has a correct grand total with data value\", ->\r\n                expect table.find(\"td.pvtGrandTotal\").text()\r\n                .toBe  \"14\"\r\n                expect table.find(\"td.pvtGrandTotal\").data(\"value\")\r\n                .toBe  14\r\n\r\n    describe \"with rows/cols, subtotal_aggregator\",  ->\r\n        table = $(\"<div>\").pivot fixtureData, \r\n            dataClass: $.pivotUtilities.SubtotalPivotData,\r\n            rows: [\"gender\", \"colour\"],\r\n            cols: [\"birthday\", \"trials\"],\r\n            aggregator: $.pivotUtilities.subtotal_aggregators[\"Sum As Fraction Of Parent Column\"]([\"successes\"]),\r\n            renderer: $.pivotUtilities.subtotal_renderers[\"Table With Subtotal\"]\r\n\r\n        it \"renders a table\", ->\r\n            expect table.find(\"table.pvtTable\").length\r\n            .toBe  1 \r\n\r\n        describe \"its renderer output\", ->\r\n            it \"has the correct type and number of cells\", ->\r\n                expect table.find(\"th.pvtAxisLabel\").length\r\n                .toBe  4 \r\n                expect table.find(\"th.collapsed\").length\r\n                .toBe  0 \r\n                expect table.find(\"th.expanded, th.rowexpanded, th.colexpanded\").length\r\n                .toBe  4+(2*5)+(10*2)+12 \r\n                expect table.find(\"th.pvtAxisLabel.expanded\").length\r\n                .toBe  4\r\n                expect table.find(\"th.pvtRowLabel.rowexpanded\").length\r\n                .toBe  8\r\n                expect table.find(\"th.pvtColLabel.colexpanded\").length\r\n                .toBe  22 \r\n                expect table.find(\"th.pvtTotalLabel.rowTotal\").length\r\n                .toBe  1 \r\n                expect table.find(\"th.pvtTotalLabel.colTotal\").length\r\n                .toBe  1 \r\n                expect table.find(\"td.pvtVal.pvtColSubtotal.pvtRowSubtotal\").length\r\n                .toBe  20 \r\n                expect table.find(\"td.pvtTotal.rowTotal.pvtRowSubtotal\").length\r\n                .toBe  2 \r\n                expect table.find(\"td.pvtTotal.colTotal.pvtColSubtotal\").length\r\n                .toBe  10 \r\n                expect table.find(\"td.pvtGrandTotal\").length\r\n                .toBe  1 \r\n\r\n            it \"has the correct textual representation\", ->\r\n                expect table.find(\"th.pvtColLabel\").text()\r\n                .toBe \" \\u25E2 1982-11-05 \\u25E2 1982-11-07 \\u25E2 1982-11-08 \\u25E2 1982-12-01 \\u25E2 1982-12-03 \\u25E2 1982-12-06 \\u25E2 1982-12-07 \\u25E2 1982-12-08 \\u25E2 1982-12-09 \\u25E2 1983-11-1111210311295112112112112112112112102\"\r\n                expect table.find(\"th.pvtRowLabel\").text()\r\n                .toBe \" \\u25E2 femaleblueredyellow \\u25E2 maleblueredyellow\"\r\n\r\n            it \"has a correct spot-checked cell with data value\", ->\r\n                expect table.find(\"td.pvtVal.pvtTotal.colTotal.col3.colcol1\").text()\r\n                .toBe  \"62.5%\"\r\n                expect table.find(\"td.pvtVal.pvtTotal.colTotal.col4.colcol1\").data(\"value\")\r\n                .toBe  30/80\r\n\r\ndescribe \"$.pivotUtilities\", ->\r\n\r\n    describe \".SubtotalPivotData()\", ->\r\n        sumOverSumOpts = \r\n            rows: [], cols: []\r\n            aggregator: $.pivotUtilities.aggregators[\"Sum over Sum\"]([\"a\",\"b\"])\r\n            filter: -> true\r\n            sorters: ->\r\n\r\n        describe \"with array-of-array input\", ->\r\n            aoaInput =  [ [\"a\",\"b\"], [1,2], [3,4] ]\r\n            pd = new $.pivotUtilities.SubtotalPivotData aoaInput, sumOverSumOpts\r\n\r\n            it \"has the correct grand total value\", ->\r\n                expect pd.getAggregator([],[]).value()\r\n                .toBe (1+3)/(2+4)\r\n\r\n        describe \"with array-of-object input\", ->\r\n            aosInput =  [ {a:1, b:2}, {a:3, b:4} ]\r\n            pd = new $.pivotUtilities.SubtotalPivotData aosInput, sumOverSumOpts\r\n\r\n            it \"has the correct grand total value\", ->\r\n                expect pd.getAggregator([],[]).value()\r\n                .toBe (1+3)/(2+4)\r\n\r\n        describe \"with function input\", ->\r\n            functionInput = (record) ->\r\n                record a:1, b:2\r\n                record a:3, b:4\r\n            pd = new $.pivotUtilities.SubtotalPivotData functionInput, sumOverSumOpts\r\n\r\n            it \"has the correct grand total value\", ->\r\n                expect pd.getAggregator([],[]).value()\r\n                .toBe (1+3)/(2+4)\r\n\r\n        describe \"with jQuery table element input\", ->\r\n            tableInput = $ \"\"\"\r\n                <table>\r\n                    <thead> \r\n                        <tr> <th>a</th><th>b</th> </tr>\r\n                    </thead> \r\n                    <tbody>\r\n                        <tr> <td>1</td> <td>2</td> </tr>\r\n                        <tr> <td>3</td> <td>4</td> </tr>\r\n                    </tbody>\r\n                </table>\r\n                \"\"\"\r\n\r\n            pd = new $.pivotUtilities.SubtotalPivotData tableInput, sumOverSumOpts\r\n\r\n            it \"has the correct grand total value\", ->\r\n                expect pd.getAggregator([],[]).value()\r\n                .toBe (1+3)/(2+4)\r\n\r\n\r\n        describe \"with rows/cols, no filters/sorters, count aggregator\", ->\r\n            pd = new $.pivotUtilities.SubtotalPivotData fixtureData2, \r\n                rows: [\"name\", \"colour\"], \r\n                cols: [\"trials\", \"successes\"],\r\n                aggregator: $.pivotUtilities.aggregators[\"Count\"](),\r\n                filter: -> true\r\n                sorters: ->\r\n\r\n            it \"has correctly-ordered row keys\", ->\r\n                expect pd.getRowKeys()\r\n                .toEqual [ [ 'Carol', 'yellow' ], [ 'Jane', 'red' ], [ 'John', 'blue' ], [ 'Nick', 'blue' ] ]\r\n               \r\n            it \"has correctly-ordered col keys\", ->\r\n                expect pd.getColKeys()\r\n                .toEqual [ [ 95, 25 ], [ 102, 14 ], [ 103, 12 ], [ 112, 30 ] ]\r\n\r\n            it \"can be iterated over\", ->\r\n                numNotNull = 0\r\n                numNull = 0\r\n                for r in pd.getRowKeys()\r\n                    for c in pd.getColKeys()\r\n                        if pd.getAggregator(r, c).value()?\r\n                            numNotNull++ \r\n                        else\r\n                            numNull++\r\n                expect numNotNull\r\n                .toBe 4\r\n                expect numNull\r\n                .toBe 12\r\n\r\n            it \"has a correct spot-checked aggregator\", ->\r\n                spots = [ {spot: [['Carol', 'yellow'], [102, 14]], val: 1}, {spot:  [['Jane', 'red'], [95, 25]], val: 1}, {spot: [['John', 'blue'], [112, 30]], val: 1}, {spot: [['Nick', 'blue'], [103, 12]], val: 1} ]\r\n                for s in spots\r\n                    agg = pd.getAggregator(s.spot[0],s.spot[1])\r\n                    val = agg.value()\r\n                    expect(val).toBe 1 \r\n                    expect(agg.format(val)).toBe \"\" + s.val\r\n\r\n            it \"has correct spot-checked aggregators for subtotal-rows and subtotal-columns\", ->\r\n                spots = [ {spot: [['Carol'], [102]], val: 1}, {spot:  [['Jane'], [95]], val: 1}, {spot: [['John'], [112]], val: 1}, {spot: [['Nick'], [103]], val: 1} ]\r\n                for s in spots\r\n                    agg = pd.getAggregator(s.spot[0], s.spot[1])\r\n                    val = agg.value()\r\n                    expect(val).toBe s.val \r\n                    expect(agg.format(val)).toBe \"\" + s.val\r\n\r\n            it \"has correct row-total for subtotal-rows\", ->\r\n                for hdr in ['Carol', 'Jane', 'John', 'Nick']\r\n                    agg = pd.getAggregator([hdr],[])\r\n                    val = agg.value()\r\n                    expect(val).toBe 1\r\n                    expect(agg.format(val)).toBe \"1\"\r\n\r\n            it \"has correct column-total for subtotal-columns\", ->\r\n                for hdr in [95, 102, 103, 112]\r\n                    agg = pd.getAggregator([],[hdr])\r\n                    val = agg.value()\r\n                    expect(val).toBe 1\r\n                    expect(agg.format(val)).toBe \"1\"\r\n\r\n            it \"has a correct grand total aggregator\", ->\r\n                agg = pd.getAggregator([],[])\r\n                val = agg.value()\r\n                expect(val).toBe 4 \r\n                expect(agg.format(val)).toBe \"4\"\r\n"]}